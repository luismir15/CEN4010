{"ast":null,"code":"var _jsxFileName = \"/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Books.js\";\nimport React, { Component } from 'react';\nimport BookList from './BookList';\nimport SearchBox from './SearchBox';\nimport request from 'superagent';\nimport '../style/browsing.css';\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      request.get(\"https://www.googleapis.com/books/v1/volumes\").query({\n        q: this.state.searchField\n      }).then(data => {\n        console.log(data);\n        this.setState({\n          books: [...data.body.items]\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        searchField: e.target.value\n      });\n    };\n\n    this.handleSort = e => {\n      this.setState({\n        sort: e.target.value\n      });\n    };\n\n    this.state = {\n      books: [],\n      searchField: '',\n      sort: ''\n    };\n  }\n\n  componentDidMount() {\n    request.get(\"https://www.googleapis.com/books/v1/volumes\").query({\n      q: this.state.searchField\n    }).then(data => {\n      this.setState({\n        books: [...data.body.items]\n      });\n    });\n  }\n\n  render() {\n    const filteredBooks = this.state.books.sort((a, b) => {\n      if (this.state.sort == 'Newest') {\n        console.log(\"in newest\");\n        return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n      } else if (this.state.sort == 'Oldest') {\n        return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n      }\n\n      return;\n    });\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(SearchBox, {\n      data: this.state,\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      handleSort: this.handleSort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(BookList, {\n      books: filteredBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Books.js"],"names":["React","Component","BookList","SearchBox","request","Books","constructor","props","handleSubmit","e","preventDefault","get","query","q","state","searchField","then","data","console","log","setState","books","body","items","handleChange","target","value","handleSort","sort","componentDidMount","render","filteredBooks","a","b","parseInt","volumeInfo","publishedDate","substring"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BookList from './BookList';\nimport SearchBox from './SearchBox';\nimport request from 'superagent';\nimport '../style/browsing.css';\n\nclass Books extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            books: [],\n            searchField: '',\n            sort: ''\n        }\n    }\n    componentDidMount() {\n        request\n            .get(\"https://www.googleapis.com/books/v1/volumes\")\n            .query({ q: this.state.searchField })\n            .then((data) => {\n                this.setState({ books: [...data.body.items] })\n            })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        request\n            .get(\"https://www.googleapis.com/books/v1/volumes\")\n            .query({ q: this.state.searchField })\n            .then((data) => {\n                console.log(data);\n                this.setState({ books: [...data.body.items] })\n        })\n    }\n\n    handleChange = (e) => {\n        this.setState({ searchField: e.target.value })\n    }\n\n    handleSort = (e) => {\n        this.setState({ sort: e.target.value});\n    }\n    \n\n    render() {\n        const filteredBooks = this.state.books.sort((a, b) => {\n            if(this.state.sort == 'Newest'){\n                console.log(\"in newest\")\n                return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n            }\n            else if(this.state.sort == 'Oldest'){\n                return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n            }\n          \n          return;\n        })\n\n        return (\n            <div className=\"wrapper\">\n                <SearchBox \n                    data={this.state} \n                    handleSubmit={this.handleSubmit} \n                    handleChange={this.handleChange} \n                    handleSort={this.handleSort}\n                />\n                <BookList books={filteredBooks}/>\n            </div>\n        );\n    }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}