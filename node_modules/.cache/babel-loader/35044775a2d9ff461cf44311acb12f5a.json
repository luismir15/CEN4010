{"ast":null,"code":"var _jsxFileName = \"/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Searchbar.js\";\nimport React, { Component } from 'react';\nimport Gallery from './Gallery';\nimport { FormControl, FormGroup, InputGroup } from 'react-bootstrap'; //import { Form, InputGroup} from 'react-bootstrap';\n//import Form from 'react-bootstrap/Form';\n//import InputGroup from 'react-bootstrap/InputGroup';\n\nimport '../style/util.css';\nimport '../style/browsing.css';\n\nclass Searchbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      searching: false\n    };\n\n    this.handleSort = e => {\n      this.setState({\n        sort: e.target.value\n      });\n    };\n\n    this.state = {\n      query: '',\n      items: [],\n      sort: ''\n    };\n  }\n\n  search() {\n    const API_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n    fetch(`${API_URL}${this.state.query}`).then(response => response.json()).then(json => {\n      let {\n        items\n      } = json;\n      this.setState({\n        items\n      });\n    }); // TODO: Add a catch method here in case the API call fails\n  }\n\n  render() {\n    const filteredBooks = this.state.items.sort((a, b) => {\n      if (this.state.sort == 'Newest') {\n        console.log(\"in newest\");\n        return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n      } else if (this.state.sort == 'Oldest') {\n        return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n      }\n\n      return;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      placeholder: \"Search book...\",\n      onChange: event => this.setState({\n        query: event.target.value\n      }),\n      onKeyPress: event => {\n        if ('Enter' === event.key) {\n          this.search();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"search-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      value: this.props.sort,\n      onChange: this.props.handleSort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Sort\"), React.createElement(\"option\", {\n      value: \"Newest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Newest\"), React.createElement(\"option\", {\n      value: \"Oldest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Oldest\"), React.createElement(\"option\", {\n      value: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Title\")))), React.createElement(Gallery, {\n      items: this.state.items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Searchbar;","map":{"version":3,"sources":["/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Searchbar.js"],"names":["React","Component","Gallery","FormControl","FormGroup","InputGroup","Searchbar","constructor","props","state","search","searching","handleSort","e","setState","sort","target","value","query","items","API_URL","fetch","then","response","json","render","filteredBooks","a","b","console","log","parseInt","volumeInfo","publishedDate","substring","event","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,UAAjC,QAAmD,iBAAnD,C,CACA;AACA;AACA;;AACA,OAAO,mBAAP;AACA,OAAO,uBAAP;;AAEA,MAAMC,SAAN,SAAwBN,KAAK,CAACC,SAA9B,CAAwC;AAMpCM,EAAAA,WAAW,CAACC,KAAD,EACX;AACI,UAAMA,KAAN;AADJ,SANAC,KAMA,GANQ;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,SAAS,EAAE;AAFP,KAMR;;AAAA,SAmBAC,UAnBA,GAmBcC,CAAD,IAAO;AAChB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAjB,OAAd;AACH,KArBD;;AAEI,SAAKR,KAAL,GAAa;AACTS,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,KAAK,EAAE,EAFE;AAGTJ,MAAAA,IAAI,EAAE;AAHG,KAAb;AAKH;;AAEDL,EAAAA,MAAM,GAAG;AACL,UAAMU,OAAO,GAAG,gDAAhB;AACAC,IAAAA,KAAK,CAAE,GAAED,OAAQ,GAAE,KAAKX,KAAL,CAAWS,KAAM,EAA/B,CAAL,CACKI,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUE,IAAI,IAAI;AACd,UAAI;AAACL,QAAAA;AAAD,UAAUK,IAAd;AACA,WAAKV,QAAL,CAAc;AAACK,QAAAA;AAAD,OAAd;AACC,KALL,EAFK,CAOG;AACX;;AAMDM,EAAAA,MAAM,GAAG;AACL,UAAMC,aAAa,GAAG,KAAKjB,KAAL,CAAWU,KAAX,CAAiBJ,IAAjB,CAAsB,CAACY,CAAD,EAAIC,CAAJ,KAAU;AAClD,UAAG,KAAKnB,KAAL,CAAWM,IAAX,IAAmB,QAAtB,EAA+B;AAC3Bc,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,eAAOC,QAAQ,CAACH,CAAC,CAACI,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAD,CAAR,GAAuDH,QAAQ,CAACJ,CAAC,CAACK,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAD,CAAtE;AACH,OAHD,MAIK,IAAG,KAAKzB,KAAL,CAAWM,IAAX,IAAmB,QAAtB,EAA+B;AAChC,eAAOgB,QAAQ,CAACJ,CAAC,CAACK,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAD,CAAR,GAAuDH,QAAQ,CAACH,CAAC,CAACI,UAAF,CAAaC,aAAb,CAA2BC,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAD,CAAtE;AACH;;AAEH;AACD,KAVqB,CAAtB;AAWA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAC,MAAlB;AAAyB,MAAA,WAAW,EAAC,gBAArC;AACA,MAAA,QAAQ,EAAIC,KAAK,IAAI,KAAKrB,QAAL,CAAc;AAACI,QAAAA,KAAK,EAAEiB,KAAK,CAACnB,MAAN,CAAaC;AAArB,OAAd,CADrB;AAEA,MAAA,UAAU,EAAKkB,KAAK,IAAI;AACpB,YAAI,YAAYA,KAAK,CAACC,GAAtB,EAA2B;AACvB,eAAK1B,MAAL;AACH;AACJ,OAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CADJ,EAcI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWO,IAA1B;AAAgC,MAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWI,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAC,EAAd;AAAiB,MAAA,QAAQ,MAAzB;AAA0B,MAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,EAII;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,CADJ,CADJ,CAdJ,EAwBI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAI,KAAKH,KAAL,CAAWU,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBJ,CADJ;AA4BH;;AAtEmC;;AAyExC,eAAeb,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Gallery from './Gallery';\nimport { FormControl, FormGroup, InputGroup } from 'react-bootstrap';\n//import { Form, InputGroup} from 'react-bootstrap';\n//import Form from 'react-bootstrap/Form';\n//import InputGroup from 'react-bootstrap/InputGroup';\nimport '../style/util.css';\nimport '../style/browsing.css';\n\nclass Searchbar extends React.Component {\n    state = {\n        search: '',\n        searching: false\n    }\n\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            query: '',\n            items: [],\n            sort: ''\n        };\n    }\n\n    search() {\n        const API_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n        fetch(`${API_URL}${this.state.query}`)\n            .then(response => response.json())\n            .then(json => {\n            let {items} = json;\n            this.setState({items})\n            }); // TODO: Add a catch method here in case the API call fails\n    }\n\n    handleSort = (e) => {\n        this.setState({ sort: e.target.value});\n    }\n\n    render() {\n        const filteredBooks = this.state.items.sort((a, b) => {\n            if(this.state.sort == 'Newest'){\n                console.log(\"in newest\")\n                return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n            }\n            else if(this.state.sort == 'Oldest'){\n                return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n            }\n          \n          return;\n        })\n        return(\n            <div>\n                <div className=\"container main-content\">\n                    <FormGroup>\n                        <InputGroup>\n                            <FormControl type=\"text\" placeholder=\"Search book...\"\n                            onChange = {event => this.setState({query: event.target.value}) }\n                            onKeyPress = { event => {\n                                if ('Enter' === event.key) {\n                                    this.search();\n                                }\n                            }} />\n                        </InputGroup>\n                    </FormGroup>\n                </div>\n                <div className='search-area'>\n                    <form>\n                        <select value={this.props.sort} onChange={this.props.handleSort}>\n                            <option value=\"\" disabled selected>Sort</option>\n                            <option value=\"Newest\">Newest</option>\n                            <option value=\"Oldest\">Oldest</option>\n                            <option value=\"Title\">Title</option>\n                        </select>\n                    </form>\n                </div>\n                <Gallery items = {this.state.items}/>\n            </div>\n        )\n    }\n}\n\nexport default Searchbar;"]},"metadata":{},"sourceType":"module"}