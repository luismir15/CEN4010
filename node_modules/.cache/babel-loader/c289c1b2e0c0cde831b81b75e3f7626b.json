{"ast":null,"code":"var _jsxFileName = \"/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Searchbar.js\";\nimport React, { Component } from 'react';\nimport Gallery from './Gallery';\nimport { FormControl, FormGroup, InputGroup } from 'react-bootstrap'; //import { Form, InputGroup} from 'react-bootstrap';\n//import Form from 'react-bootstrap/Form';\n//import InputGroup from 'react-bootstrap/InputGroup';\n\nimport '../style/util.css';\nimport '../style/browsing.css';\n\nclass Searchbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      searching: false\n    };\n    this.state = {\n      query: '',\n      items: []\n    };\n  }\n\n  search() {\n    const API_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n    fetch(`${API_URL}${this.state.query}`).then(response => response.json()).then(json => {\n      let {\n        items\n      } = json;\n      this.setState({\n        items\n      });\n    }); // TODO: Add a catch method here in case the API call fails\n  }\n\n  render() {\n    const filteredBooks = this.state.books.sort((a, b) => {\n      if (this.state.sort == 'Newest') {\n        console.log(\"in newest\");\n        return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n      } else if (this.state.sort == 'Oldest') {\n        return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n      }\n\n      return;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      placeholder: \"Search book...\",\n      onChange: event => this.setState({\n        query: event.target.value\n      }),\n      onKeyPress: event => {\n        if ('Enter' === event.key) {\n          this.search();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"search-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      value: this.sort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Sort\"), React.createElement(\"option\", {\n      value: \"Newest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Newest\"), React.createElement(\"option\", {\n      value: \"Oldest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Oldest\"), React.createElement(\"option\", {\n      value: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Title\")))), React.createElement(Gallery, {\n      items: this.state.items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Searchbar;","map":{"version":3,"sources":["/Users/luismiranda/Projects/Geek-Text/CEN4010/src/pages/components/Searchbar.js"],"names":["React","Component","Gallery","FormControl","FormGroup","InputGroup","Searchbar","constructor","props","state","search","searching","query","items","API_URL","fetch","then","response","json","setState","render","filteredBooks","books","sort","a","b","console","log","parseInt","volumeInfo","publishedDate","substring","event","target","value","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Gallery from './Gallery';\nimport { FormControl, FormGroup, InputGroup } from 'react-bootstrap';\n//import { Form, InputGroup} from 'react-bootstrap';\n//import Form from 'react-bootstrap/Form';\n//import InputGroup from 'react-bootstrap/InputGroup';\nimport '../style/util.css';\nimport '../style/browsing.css';\n\nclass Searchbar extends React.Component {\n    state = {\n        search: '',\n        searching: false\n    }\n\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            query: '',\n            items: []\n        };\n    }\n\n    search() {\n        const API_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n        fetch(`${API_URL}${this.state.query}`)\n            .then(response => response.json())\n            .then(json => {\n            let {items} = json;\n            this.setState({items})\n            }); // TODO: Add a catch method here in case the API call fails\n    }\n\n    render() {\n        const filteredBooks = this.state.books.sort((a, b) => {\n            if(this.state.sort == 'Newest'){\n                console.log(\"in newest\")\n                return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n            }\n            else if(this.state.sort == 'Oldest'){\n                return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n            }\n          \n          return;\n        })\n        return(\n            <div>\n                <div className=\"container main-content\">\n                    <FormGroup>\n                        <InputGroup>\n                            <FormControl type=\"text\" placeholder=\"Search book...\"\n                            onChange = {event => this.setState({query: event.target.value}) }\n                            onKeyPress = { event => {\n                                if ('Enter' === event.key) {\n                                    this.search();\n                                }\n                            }} />\n                        </InputGroup>\n                    </FormGroup>\n                </div>\n                <div className='search-area'>\n                    <form>\n                        <select value={this.sort}>\n                            <option value=\"\" disabled selected>Sort</option>\n                            <option value=\"Newest\">Newest</option>\n                            <option value=\"Oldest\">Oldest</option>\n                            <option value=\"Title\">Title</option>\n                        </select>\n                    </form>\n                </div>\n                <Gallery items = {this.state.items}/>\n            </div>\n        )\n    }\n}\n\nexport default Searchbar;"]},"metadata":{},"sourceType":"module"}